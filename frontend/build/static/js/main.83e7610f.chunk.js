(this["webpackJsonpcost-frontend"]=this["webpackJsonpcost-frontend"]||[]).push([[0],{180:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},229:function(e){e.exports=JSON.parse('{"a":"hu"}')},234:function(e,t,a){e.exports=a.p+"static/media/logo.7b710682.svg"},305:function(e,t,a){e.exports=a(415)},330:function(e,t,a){},331:function(e,t,a){},338:function(e,t,a){},339:function(e,t,a){},340:function(e,t,a){},400:function(e,t,a){},401:function(e,t,a){},402:function(e,t,a){},403:function(e,t,a){},404:function(e,t,a){},405:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){},409:function(e,t,a){},410:function(e,t,a){},411:function(e,t,a){},412:function(e,t,a){},414:function(e,t,a){},415:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),o=a.n(c),i=a(16),s=a(10),l=a(195),u=a(227),m=a(228),d=a(85),h=a(229);l.a.use(m.a).use(u.a).use(d.e).init({backend:{loadPath:"cost/locales/{{lng}}/{{ns}}.json"},load:"languageOnly",fallbackLng:h.a,interpolation:{escapeValue:!1},react:{wait:!0},detection:{caches:["cookie","localStorage"]}});var p=l.a,f=a(426),v=a(30);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var g,E,b,O,y,C=a(26),w=a(35),N=a(4),M=a.n(N),x=a(7),A=a(12),S=a(13),T=a(27),k=a(167),j=a(232),D=a.n(j),L="#3f51b5",I="#c00",R="#0a0",B="#f5f5f5",_="cost-token",U=["Aj\xe1nd\xe9k","\xc1llam","Befektet\xe9s","Fizet\xe9s","K\xf6lcs\xf6n","Egy\xe9b"],Y=["","Aj\xe1nd\xe9k","\xc1llam","Befektet\xe9s","Fizet\xe9s","K\xf6lcs\xf6n","Egy\xe9b"],H=["Aj\xe1nd\xe9k","Aut\xf3","Bank","Befektet\xe9s","Bev\xe1s\xe1rl\xe1s","Gy\xf3gyszert\xe1r","H\xe1z","Kaja","Kocsma","K\xf6lcs\xf6n","Luxus","Rezsi","Ruha","Telefon","Utaz\xe1s","Egy\xe9b"],P=["","Aj\xe1nd\xe9k","Aut\xf3","Bank","Befektet\xe9s","Bev\xe1s\xe1rl\xe1s","Gy\xf3gyszert\xe1r","H\xe1z","Kaja","Kocsma","K\xf6lcs\xf6n","Luxus","Rezsi","Ruha","Telefon","Utaz\xe1s","Egy\xe9b"],F=["janu\xe1r","febru\xe1r","m\xe1rcius","\xe1prilis","m\xe1jus","j\xfanius","j\xfalius","augusztus","szeptember","okt\xf3ber","november","december"],G=["Egyenleg","Bev\xe9tel","Kiad\xe1s","Aj\xe1nd\xe9k","Aut\xf3","Bank","Befektet\xe9s","Bev\xe1s\xe1rl\xe1s","Gy\xf3gyszert\xe1r","H\xe1z","Kaja","Kocsma","K\xf6lcs\xf6n","Luxus","Rezsi","Ruha","Telefon","Utaz\xe1s","Egy\xe9b"],Q=["#e6da00","#c927fe","#29fc88","#333","#ff7f27","#28f8fd","#808000","#ff2698"],z=new Date("2015-09-01");!function(e){e.Item="item",e.Balance="balance"}(g||(g={})),function(e){e.Cost="COST",e.Income="INCOME"}(E||(E={})),function(e){e.Gift="GIFT",e.State="STATE",e.Investment="INVESTMENT",e.Salary="SALARY",e.Loan="LOAN",e.Other="OTHER"}(b||(b={})),function(e){e.Gift="GIFT",e.Car="CAR",e.Bank="BANK",e.Investment="INVESTMENT",e.Grocery="GROCERY",e.Pharmacy="PHARMACY",e.House="HOUSE",e.Food="FOOD",e.Drink="DRINK",e.Loan="LOAN",e.Luxury="LUXURY",e.Overhead="OVERHEAD",e.Clothes="CLOTHES",e.Phone="PHONE",e.Travel="TRAVEL",e.Other="OTHER"}(O||(O={})),function(e){e.Error="Error",e.Info="Info"}(y||(y={}));var q,V=Object(w.b)({name:"common",initialState:{notification:null,descriptionMapping:JSON.parse(localStorage.getItem("descriptionMapping")||"{}")},reducers:{setNotification:function(e,t){e.notification=t.payload},addDescriptionMapping:function(e,t){e.descriptionMapping=Object(T.a)(Object(T.a)({},e.descriptionMapping),t.payload),localStorage.setItem("descriptionMapping",JSON.stringify(Object(T.a)(Object(T.a)({},e.descriptionMapping),t.payload)))}}}),W=V.actions,K=V.reducer,J=function(e){var t=e.type,a=void 0===t?y.Info:t,n=e.text;return function(){var e=Object(x.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(W.setNotification({type:a,text:n}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},X=K;!function(e){e.GET="GET",e.PUT="PUT",e.POST="POST",e.DELETE="DELETE"}(q||(q={}));var $=D.a.create({});function Z(){return(Z=Object(x.a)(M.a.mark((function e(t){var a,n,r,c,o,i,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.resource,n=t.method,r=void 0===n?q.POST:n,c=(c=Object(k.a)(t,["resource","method"]))||{},(o=localStorage.getItem(_))&&(c=Object(T.a)(Object(T.a)({},c),{},{headers:{Authorization:o}})),e.next=6,$.request(Object(T.a)({method:r,url:"https://horvathadam.info/api"+a},c));case 6:return i=e.sent,s=i.data,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}$.interceptors.response.use(function(){var e=Object(x.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(x.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return je.dispatch(J({type:y.Error,text:t.message})),je.dispatch(se()),e.abrupt("return",Promise.reject(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var ee,te,ae=function(e){return Z.apply(this,arguments)},ne=function(){function e(){Object(A.a)(this,e)}return Object(S.a)(e,null,[{key:"login",value:function(){var e=Object(x.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae({resource:"/login",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),re=Object(w.b)({name:"auth",initialState:{loading:!1,token:localStorage.getItem(_)||null,id:null,error:null},reducers:{setTokenAndId:function(e,t){var a,n,r;ie(null===(a=t.payload)||void 0===a?void 0:a.token),e.token=(null===(n=t.payload)||void 0===n?void 0:n.token)||null,e.id=null===(r=t.payload)||void 0===r?void 0:r.id},logout:function(){ie(null);var e=Object(v.a)();e.push("/login"),e.go(0)}}}),ce=re.actions,oe=re.reducer,ie=function(e){e?localStorage.setItem(_,e):localStorage.removeItem(_)},se=function(){return function(){var e=Object(x.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(ce.logout());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},le=oe,ue=a(40),me=function(){function e(){Object(A.a)(this,e)}return Object(S.a)(e,null,[{key:"getChartData",value:function(){var e=Object(x.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae({resource:"/v1/chart",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),de=Object(w.b)({name:"chart",initialState:{loading:!1,BALANCE:void 0,COST:void 0,INCOME:void 0,SALARY:void 0,STATE:void 0,GIFT:void 0,LOAN:void 0,OTHER:void 0,BANK:void 0,CAR:void 0,CLOTHES:void 0,DRINK:void 0,FOOD:void 0,GROCERY:void 0,HOUSE:void 0,INVESTMENT:void 0,LUXURY:void 0,OVERHEAD:void 0,PHARMACY:void 0,PHONE:void 0,TRAVEL:void 0,prevBalance:0,error:null},reducers:{setChartData:function(e,t){var a=t.payload.result;for(var n in a.BALANCE?(e.prevBalance=a.PREV_BALANCE,e.BALANCE=he(a.BALANCE,a.PREV_BALANCE)):e.BALANCE=void 0,a.COST?e.COST=he(a.COST):e.COST=void 0,a.INCOME?e.INCOME=he(a.INCOME):e.INCOME=void 0,a)a.hasOwnProperty(n)&&!["BALANCE","COST","INCOME","PREV_BALANCE"].includes(n)&&(e[n]=he(a[n]));var r,c=Object(ue.a)(Object.keys(e).filter((function(e){return!["loading","error","BALANCE","COST","INCOME","prevBalance"].includes(e)})));try{for(c.s();!(r=c.n()).done;){var o=r.value;a.hasOwnProperty(o)||(e[o]=void 0)}}catch(i){c.e(i)}finally{c.f()}}}}),he=function(e,t){var a=e.map((function(e){var t=Object.keys(e)[0];return{year:Number(t.split("_")[0]),month:Number(t.split("_")[1]),amount:e[t]}}))||[];if(a.sort((function(e,t){return e.year<t.year?-1:e.year>t.year?1:e.month<t.month?-1:1})),t||0===t){var n=t;a.forEach((function(e){n+=e.amount,e.sumAmount=n}))}return a},pe=de.actions,fe=de.reducer,ve=function(){function e(){Object(A.a)(this,e)}return Object(S.a)(e,null,[{key:"getDashboardData",value:function(){var e=Object(x.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae({resource:"/v1/main",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createItem",value:function(){var e=Object(x.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae({resource:"/v1/item",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateItem",value:function(){var e=Object(x.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae({method:q.PUT,resource:"/v1/item",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteItem",value:function(){var e=Object(x.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae({method:q.DELETE,resource:"/v1/item/".concat(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ge=Object(w.b)({name:"dashboard",initialState:{loading:!1,items:[],balance:0,error:null},reducers:{setDashboardData:function(e,t){e.items=t.payload.items,e.balance=t.payload.balance}}}),Ee=ge.actions,be=ge.reducer,Oe=function(){function e(){Object(A.a)(this,e)}return Object(S.a)(e,null,[{key:"getQueryData",value:function(){var e=Object(x.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae({resource:"/v1/query",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryList",value:function(){var e=Object(x.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae({resource:"/v1/query-list",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();!function(e){e.Header="header",e.Item="item"}(ee||(ee={})),function(e){e.Left="left",e.Right="right"}(te||(te={}));var ye=Object(w.b)({name:"query",initialState:{loading:!1,queryData:null,queryList:null,error:null},reducers:{setQueryData:function(e,t){e.queryData=t.payload},setQueryList:function(e,t){e.queryList=t.payload}}}),Ce=ye.actions,we=ye.reducer,Ne={_id:"",group_id:"",amount:0,category:O.Other,category_type:E.Cost,year:2015,month:8,day:1,description:""},Me=we,xe=function(){function e(){Object(A.a)(this,e)}return Object(S.a)(e,null,[{key:"getStatsData",value:function(){var e=Object(x.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae({resource:"/v1/stats",data:{date:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ae=Object(w.b)({name:"stats",initialState:{loading:!1,data:null,error:null},reducers:{setStatsData:function(e,t){e.data=t.payload}}}),Se=Ae.actions,Te=Ae.reducer,ke=Object(C.c)({auth:le,chart:fe,common:X,dashboard:be,query:Me,stats:Te}),je=Object(w.a)({reducer:ke}),De=a(24),Le=a(23),Ie=a(424),Re=a(33),Be=(a(330),function(e){var t=e.logout;return r.a.createElement("div",{className:"text-strip-menu"},r.a.createElement("span",{className:"menu-item",onClick:t},r.a.createElement("div",{className:"logout-icon"})))}),_e=a(233),Ue=a(9),Ye=a.n(Ue),He=(a(331),function(e){var t=e.openMenu,a=e.switchMenuState,c=e.logout,o=Object(_e.a)().t;Object(n.useEffect)((function(){return document.addEventListener("mousedown",l),function(){document.removeEventListener("mousedown",l)}}),[t]);var i=Object(n.useRef)(null),s=Object(n.useRef)(null),l=function(e){var n,r;i&&!(null===(n=i.current)||void 0===n?void 0:n.contains(e.target))&&s&&!(null===(r=s.current)||void 0===r?void 0:r.contains(e.target))&&t&&a()},u=function(){a()};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:s,className:Ye()("hamburger-icon",{cross:t}),onClick:u},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement("div",{ref:i,className:"hamburger-panel ".concat(t?"open":"closed")},r.a.createElement("div",{className:"menu-item"},r.a.createElement(Re.a,{to:"/cost",onClick:u},o("MENU.MAIN"))),r.a.createElement("div",{className:"menu-item"},r.a.createElement(Re.a,{to:"/stats",onClick:u},o("MENU.STATS"))),r.a.createElement("div",{className:"menu-item"},r.a.createElement(Re.a,{to:"/query",onClick:u},o("MENU.QUERIES"))),r.a.createElement("div",{className:"menu-item"},r.a.createElement(Re.a,{to:"/chart",onClick:u},o("MENU.CHARTS"))),r.a.createElement("div",{className:"menu-item",onClick:c},o("MENU.LOGOUT"))))}),Pe=(a(338),function(){var e=Object(_e.a)().t;return r.a.createElement("div",{className:"menu row"},r.a.createElement("div",{className:"entry-container col-sm-3"},r.a.createElement(Re.a,{to:"/cost",className:"menu-entry"},e("MENU.MAIN"))),r.a.createElement("div",{className:"entry-container col-sm-3"},r.a.createElement(Re.a,{to:"/stats",className:"menu-entry"},e("MENU.STATS"))),r.a.createElement("div",{className:"entry-container col-sm-3"},r.a.createElement(Re.a,{to:"/query",className:"menu-entry"},e("MENU.QUERIES"))),r.a.createElement("div",{className:"entry-container col-sm-3"},r.a.createElement(Re.a,{to:"/chart",className:"menu-entry"},e("MENU.CHARTS"))))});function Fe(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var Ge=a(234),Qe=a.n(Ge),ze=(a(339),function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={openMenu:!1},e.switchMenuState=function(){e.setState({openMenu:!e.state.openMenu})},e.logout=function(){e.setState({openMenu:!1}),e.props.logout()},e}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.token;return r.a.createElement("header",null,r.a.createElement("div",{className:"header-top"},r.a.createElement(Re.a,{to:"/cost"},r.a.createElement("img",{src:Qe.a,className:"logo",alt:"logo"})),r.a.createElement(Re.a,{to:"/cost"},r.a.createElement("h1",{className:"title"},t("COMMON.APP_NAME"))),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,{logout:this.logout}),r.a.createElement(He,{openMenu:this.state.openMenu,switchMenuState:this.switchMenuState,logout:this.logout})):null),a?r.a.createElement(Pe,null):null)}}]),a}(n.Component)),qe={logout:se},Ve=Fe(Object(i.b)((function(e){return{token:e.auth.token}}),qe))(Object(Ie.a)()(ze)),We=a(62),Ke=a(194);Ke.setLocale({mixed:{required:function(){return p.t("ERRORS.FIELD_REQUIRED")}},string:{email:function(){return p.t("ERRORS.EMAIL_INVALID")}}});var Je,Xe=Ke,$e=(a(340),function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(){var t=Object(x.a)(M.a.mark((function t(a){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.login,t.next=3,n(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props.t;return r.a.createElement("div",{className:"login"},r.a.createElement(We.c,{initialValues:{email:"",password:""},validateOnChange:!1,onSubmit:this.onSubmit,validationSchema:function(){return Xe.object().shape({email:Xe.string().email(e("ERRORS.EMAIL_INVALID")).required(e("ERRORS.FIELD_REQUIRED")),password:Xe.string().required(e("ERRORS.FIELD_REQUIRED"))})}},r.a.createElement(We.b,{noValidate:!0,className:"input-box"},r.a.createElement("label",{htmlFor:"email",className:"email-label"},e("LOGIN.EMAIL")),r.a.createElement(We.a,{label:e("LOGIN.EMAIL"),placeholder:e("LOGIN.EMAIL"),name:"email",type:"email"}),r.a.createElement("label",{htmlFor:"password",className:"password-label"},e("LOGIN.PASSWORD")),r.a.createElement(We.a,{label:e("LOGIN.PASSWORD"),placeholder:e("LOGIN.PASSWORD"),name:"password",type:"password"}),r.a.createElement("button",{type:"submit"},e("LOGIN.LOGIN")))))}}]),a}(n.Component)),Ze={login:function(e){return function(){var t=Object(x.a)(M.a.mark((function t(a){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ne.login(e);case 3:n=t.sent,a(ce.setTokenAndId(n)),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},et=Fe(Object(i.b)(null,Ze))(Object(Ie.a)()($e)),tt=a(71),at=a.n(tt),nt=(a(341),a(342),a(108)),rt=a(67),ct=a(58),ot=a(427),it=a(425),st=a(244),lt=a(240),ut=(a(180),function(e){var t=e.shown,a=e.onCancel,n=e.onConfirm,c=Object(_e.a)().t;return r.a.createElement(ot.a,{className:"confirm-modal",show:t,onHide:a},r.a.createElement(ot.a.Header,null,r.a.createElement(ot.a.Title,null,c("DASHBOARD.DELETE.TITLE")),r.a.createElement("div",{className:"delete-icon"})),r.a.createElement(ot.a.Body,null,c("DASHBOARD.DELETE.ARE_YOU_SURE")),r.a.createElement(ot.a.Footer,null,r.a.createElement(lt.a,{onClick:a,variant:"secondary"},c("COMMON.CANCEL")),r.a.createElement(lt.a,{variant:"primary",onClick:n},c("COMMON.OK"))))}),mt=function(e){var t=e.date,a=e.onChange,n=e.minDate,c=void 0===n?new Date("2015-09-30"):n,o=e.maxDate,i=void 0===o?new Date:o;return r.a.createElement(at.a,{selected:t,onChange:a,locale:"hu",dropdownMode:"select",todayButton:"Mai nap",isClearable:!1,minDate:c,maxDate:i,dateFormatCalendar:"yyyy. MMMM",popperPlacement:"center",dateFormat:"yyyy. MM. dd."})},dt=function(e){var t=e.form,a=e.type,c=e.field,o=e.setFieldValue,i=Object(k.a)(e,["form","type","field","setFieldValue"]);return Object(n.useEffect)((function(){t.validateForm()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({type:a,value:c.value,onChange:function(t){console.log("onChange"),o&&(console.log(t.target.value),o(e.name,t.target.value)),e.onChange&&e.onChange(t)}},i)),t.errors[c.name]&&t.touched[c.name]&&r.a.createElement("span",{style:{color:I}},t.errors[c.name]))},ht=(a(222),a(223),function(e){var t=e.shown,a=e.amount,c=e.date,o=e.category,i=e.description,s=e.id,l=e.hide,u=e.type,m=e.isCost,d=e.createItem,h=e.updateItem,p=e.deleteItem,f=e.setDescriptionMapping,v=e.descriptionMapping;Object(n.useEffect)((function(){Object(tt.registerLocale)("hu",nt.a)}),[]);var g=Object(_e.a)().t,b=Xe.object().shape({amount:Xe.number().required(g("ERRORS.FIELD_REQUIRED")).test("amount",g("ERRORS.AMOUNT_INVALID"),(function(e){return!!e&&!!e.toString().trim().replace(/[^0-9]/g,"").length})),category:Xe.string().required(g("ERRORS.FIELD_REQUIRED")),date:Xe.string().required(g("ERRORS.FIELD_REQUIRED"))}),O=Object(n.useState)(!1),y=Object(ct.a)(O,2),C=y[0],w=y[1],N=Object(n.useState)(!!s),A=Object(ct.a)(N,2),S=A[0],T=A[1],k=!!s,j=function(){w(!0)},D=function(){var e=Object(x.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=s,!e.t0){e.next=4;break}return e.next=4,p(s);case 4:w(!1),l();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(x.a)(M.a.mark((function e(t){var a,n,r,c,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.date,n=t.category,r=t.amount,c=t.description,o={category_type:m?E.Cost:E.Income,date:a,category:g("COMMON.ENGLISH_CATEGORIES.".concat(n)),amount:r,description:(null===c||void 0===c?void 0:c.trim())||""},s&&(o.id=s),!c||v[c.trim()]&&v[c.trim()]===g("COMMON.ENGLISH_CATEGORIES.".concat(n))||f(Object(rt.a)({},c.trim(),g("COMMON.ENGLISH_CATEGORIES.".concat(n)))),u!==Je.ADD){e.next=9;break}return e.next=7,d(o);case 7:e.next=11;break;case 9:return e.next=11,h(o);case 11:l();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ot.a,{show:t&&!C,onHide:l},r.a.createElement(We.c,{initialValues:{amount:a,category:o,description:i,date:c.toISOString()},validateOnChange:!0,validateOnMount:!0,onSubmit:L,validationSchema:b},(function(e){var t=e.values,a=e.setFieldValue,n=e.isValid,c=e.validateForm,o=e.setFieldTouched;k||(c(),k=!0),S!==n&&T(n);var i=m?H:U;return r.a.createElement(We.b,{noValidate:!0,className:"input-box"},r.a.createElement(ot.a.Header,null,r.a.createElement(ot.a.Title,null,u===Je.UPDATE?g("DASHBOARD.ITEM_MODAL.UPDATE_AMOUNT"):g("DASHBOARD.ITEM_MODAL.ADD_AMOUNT",{itemType:g(m?"COMMON.CATEGORIES.COST":"COMMON.CATEGORIES.INCOME")})),u===Je.UPDATE?r.a.createElement("div",{className:"delete-icon",onClick:j}):null),r.a.createElement(ot.a.Body,null,r.a.createElement("label",{htmlFor:"amount",className:"label amount-label"},g("DASHBOARD.ITEM_MODAL.AMOUNT")),r.a.createElement(We.a,{label:g("DASHBOARD.ITEM_MODAL.AMOUNT"),className:"amount",name:"amount",type:"number",component:dt,onBlur:function(){o("amount",!0)},setFieldValue:a,onChange:function(e){return a("amount",e.target.value)}}),r.a.createElement("label",{htmlFor:"category",className:"label category-label"},g("DASHBOARD.ITEM_MODAL.CATEGORY")),r.a.createElement(it.a,{title:t.category,id:"dropdown"},i.map((function(e,t){return r.a.createElement(st.a.Item,{eventKey:"".concat(t),key:t,onSelect:function(){a("category",i[t]),c()}},e)}))),r.a.createElement("label",{htmlFor:"description",className:"label description-label"},g("DASHBOARD.ITEM_MODAL.DESCRIPTION")),r.a.createElement(We.a,{label:g("DASHBOARD.ITEM_MODAL.DESCRIPTION"),className:"description",name:"description",type:"text",component:dt,autocomplete:"off",onBlur:function(){o("description",!0)},setFieldValue:a,onChange:function(e){var t;a("description",e.target.value),(null===(t=e.target.value)||void 0===t?void 0:t.length)>1&&v[e.target.value]&&a("category",g("COMMON.CATEGORIES.".concat(v[e.target.value])))}}),r.a.createElement("label",{htmlFor:"date",className:"label description-label"},g("DASHBOARD.ITEM_MODAL.DATE")),r.a.createElement("div",{className:"date-picker-container date-picker-in-modal"},r.a.createElement(mt,{date:new Date(t.date),onChange:function(e){return a("date",e)}}))),r.a.createElement(ot.a.Footer,{className:"flex-nowrap"},r.a.createElement(lt.a,{onClick:l,variant:"secondary"},g("COMMON.CANCEL")),r.a.createElement(lt.a,{className:"btn-primary",type:"submit",disabled:!S},g("COMMON.OK"))))}))),r.a.createElement(ut,{shown:C,onCancel:function(){w(!1)},onConfirm:D}))}),pt=a(57),ft=a(43),vt=a.n(ft),gt=function(e){return Math.round(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},Et=function(e){return{left:!vt()(e).isSame(vt()("2015-09-30"),"day"),right:!vt()(e).isSame(vt()(),"day")}},bt=function(e){var t=new Date(e.getFullYear(),e.getMonth(),1),a=new Date;return{left:!vt()(t).isSame(vt()("2015-09-01"),"day"),right:!(e.getFullYear()===a.getFullYear()&&e.getMonth()===a.getMonth())}},Ot=document.createElement("canvas"),yt=function(e,t){var a=Ot.getContext("2d");return a?(a.font=t,a.measureText(e).width):0},Ct=function(e,t){return Math.max.apply(Math,Object(pt.a)(e.map((function(e){return yt(e,t)}))))},wt=(a(400),function(e){var t=e.showItemModal,a=Object(_e.a)().t;return r.a.createElement("div",{className:"add-item-container"},r.a.createElement("div",{className:"add-container add-cost-container",onClick:function(){return t(!0,Je.ADD)}},r.a.createElement("div",{className:"add-icon add-cost-icon"}),r.a.createElement("div",{className:"add-label add-cost-label"},a("DASHBOARD.COST"))),r.a.createElement("div",{className:"add-container add-income-container",onClick:function(){return t(!1,Je.ADD)}},r.a.createElement("div",{className:"add-label add-income-label"},a("DASHBOARD.INCOME")),r.a.createElement("div",{className:"add-icon add-income-icon"})))}),Nt=(a(401),function(e){var t=e.isPagingAvailable,a=e.changeDateWith,n=e.onDateChange,c=e.date;return r.a.createElement("div",{className:"date-picker-container"},t.left?r.a.createElement("div",{className:"paginate visible left",onClick:function(){return a(-1)}}):r.a.createElement("div",{className:"paginate left"}),r.a.createElement(mt,{date:c,onChange:n}),t.right?r.a.createElement("div",{className:"paginate visible right",onClick:function(){return a(1)}}):r.a.createElement("div",{className:"paginate right"}))}),Mt=(a(402),function(e){var t=e.items,a=e.showItemModal;return r.a.createElement("div",{className:"item-list"},t.map((function(e){return r.a.createElement("div",{className:"item",key:t.indexOf(e),onClick:function(){return a(e.category_type===E.Cost,Je.UPDATE,e._id)}},r.a.createElement("div",{className:"arrow-icon ".concat(e.category_type.toLowerCase())}),r.a.createElement("div",{className:"item-texts"},r.a.createElement("div",{className:"amount"},gt(e.amount)),r.a.createElement("div",{className:"description"},e.description)),r.a.createElement("div",{className:"category-icon ".concat(e.category.toLowerCase())}))})))});a(403);!function(e){e.ADD="ADD",e.UPDATE="UPDATE"}(Je||(Je={}));var xt,At=function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={itemModalShown:!1,confirmModalShown:!1,date:new Date,isPagingAvailable:{left:!0,right:!1},modalType:Je.ADD,currentItemId:"",isCost:!1},e.getData=Object(x.a)(M.a.mark((function t(){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.getDashboardData,t.next=3,a({date:e.state.date.toISOString()});case 3:case"end":return t.stop()}}),t)}))),e.onDateChange=function(){var t=Object(x.a)(M.a.mark((function t(a){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setHours(6),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),t.next=6,e.setState({date:a});case 6:e.handleDateChange();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.changeDateWith=function(){var t=Object(x.a)(M.a.mark((function t(a){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=e.state.date).setDate(e.state.date.getDate()+a),t.next=4,e.setState({date:n});case 4:e.handleDateChange();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDateChange=Object(x.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setPagingAvailable(),t.next=3,e.getData();case 3:case"end":return t.stop()}}),t)}))),e.showItemModal=function(t,a,n){var r=Object(T.a)(Object(T.a)({},e.state),{},{itemModalShown:!0,modalType:a,isCost:t});n&&(r.currentItemId=n),e.setState(r)},e.hideItemModal=function(){e.setState({itemModalShown:!1,currentItemId:"",isCost:!1},Object(x.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))))},e.setPagingAvailable=function(){e.setState({isPagingAvailable:Et(e.state.date)})},e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:Object(tt.registerLocale)("hu",nt.a);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.t,a=e.balance,n=e.items,c=e.createItem,o=e.updateItem,i=e.deleteItem,s=e.setDescriptionMapping,l=e.descriptionMapping,u=this.state,m=u.date,d=u.isPagingAvailable,h=u.itemModalShown,p=u.modalType,f=u.currentItemId,v=u.isCost;if(!n)return null;var g=n.find((function(e){return e._id===f}));return r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"balance"},t("DASHBOARD.BALANCE",{balance:gt(a)})),r.a.createElement(wt,{showItemModal:this.showItemModal}),r.a.createElement(Nt,{date:m,onDateChange:this.onDateChange,changeDateWith:this.changeDateWith,isPagingAvailable:d}),r.a.createElement(Mt,{showItemModal:this.showItemModal,items:n}),r.a.createElement(ht,{shown:h,id:f,hide:this.hideItemModal,category:g?t("COMMON.CATEGORIES.".concat(g.category)):v?H[0]:U[0],amount:null===g||void 0===g?void 0:g.amount,description:null===g||void 0===g?void 0:g.description,date:m,type:p,createItem:c,updateItem:o,deleteItem:i,isCost:v,setDescriptionMapping:s,descriptionMapping:l}))}}]),a}(n.Component),St={getDashboardData:function(e){return function(){var t=Object(x.a)(M.a.mark((function t(a){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.getDashboardData(e);case 3:n=t.sent,a(Ee.setDashboardData(n)),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},createItem:function(e){return function(){var t=Object(x.a)(M.a.mark((function t(a){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.createItem(e);case 3:n=t.sent,a(J({text:n.msg})),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},updateItem:function(e){return function(){var t=Object(x.a)(M.a.mark((function t(a){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.updateItem(e);case 3:n=t.sent,a(J({text:n.msg})),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},deleteItem:function(e){return function(){var t=Object(x.a)(M.a.mark((function t(a){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.deleteItem(e);case 3:n=t.sent,a(J({text:n.msg})),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},setDescriptionMapping:function(e){return function(){var t=Object(x.a)(M.a.mark((function t(a){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(W.addDescriptionMapping(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},Tt=Fe(Object(i.b)((function(e){return{balance:e.dashboard.balance,items:e.dashboard.items,notification:e.common.notification,descriptionMapping:e.common.descriptionMapping}}),St))(Object(Ie.a)()(At)),kt=(a(404),function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={date:new Date,isPagingAvailable:{left:!0,right:!1}},e.getData=Object(x.a)(M.a.mark((function t(){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.getStatsData,t.next=3,a(e.state.date.toISOString());case 3:case"end":return t.stop()}}),t)}))),e.changeMonthWith=function(){var t=Object(x.a)(M.a.mark((function t(a){var n,r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.date,(r=n).setMonth(n.getMonth()+a),r.setDate(e.isThisMonth(r)?(new Date).getDate():28),t.next=6,e.setState({date:r});case 6:return e.setPagingAvailable(),t.next=9,e.getData();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.isThisMonth=function(e){return e.getFullYear()===(new Date).getFullYear()&&e.getMonth()===(new Date).getMonth()},e.setPagingAvailable=function(){e.setState({isPagingAvailable:bt(e.state.date)})},e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(!this.props.stats)return null;var t=this.props,a=t.stats,n=a.balance,c=a.total_income,o=a.total_cost,i=a.balance_in_month,s=a.daily_average,l=a.daily_average_without_house,u=a.expected_cost,m=a.expected_balance_in_month,d=a.expected_balance,h=t.t,p=this.state,f=p.date,v=p.isPagingAvailable;return r.a.createElement("div",{className:"stats-container"},[n,c,o,i,s,l,u,m,d].map((function(e,t){return r.a.createElement("div",{className:Ye()({"green-item":1===t,"red-item":2===t})},r.a.createElement("div",{className:"stats-label"},h("STATS.LABELS.".concat(t))),r.a.createElement("div",{className:"amount"},gt(e)))})),r.a.createElement("div",{className:"month-pager-container date-picker-container"},r.a.createElement("div",{className:Ye()("paginate left",{visible:v.left}),onClick:function(){return v.left&&e.changeMonthWith(-1)}}),r.a.createElement("div",{className:"month-pager"},"".concat(f.getFullYear(),". ").concat(F[f.getMonth()])),r.a.createElement("div",{className:Ye()("paginate right",{visible:v.right}),onClick:function(){return v.right&&e.changeMonthWith(1)}})))}}]),a}(n.Component)),jt={getStatsData:function(e){return function(){var t=Object(x.a)(M.a.mark((function t(a){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xe.getStatsData(e);case 3:n=t.sent,a(Se.setStatsData(n)),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},Dt=Fe(Object(i.b)((function(e){return{stats:e.stats.data}}),jt))(Object(Ie.a)()(kt));a(405);!function(e){e.Left="left",e.Right="right",e.None="none"}(xt||(xt={}));var Lt,It=function(e){var t=e.active,a=e.onClick,n=e.leftText,c=e.rightText,o=function(){return n?c?xt.None:xt.Right:xt.Left};return r.a.createElement("div",{className:"toggle-button-container"},r.a.createElement("div",{className:Ye()("button-container left",{active:t===te.Left,empty:o()===xt.Left,"empty-other":o()===xt.Right}),onClick:a},r.a.createElement("div",{className:Ye()("button left",{active:t===te.Left})}),r.a.createElement("div",{className:"button-text left"},n)),r.a.createElement("div",{className:Ye()("button-container right",{active:t===te.Right,empty:o()===xt.Right,"empty-other":o()===xt.Left}),onClick:a},r.a.createElement("div",{className:Ye()("button right",{active:t===te.Right})}),r.a.createElement("div",{className:"button-text right"},c)))},Rt=function(e){for(var t=[],a=(new Date).getFullYear();a>=z.getFullYear();a--)t.push(a);return t.map((function(t,a){return r.a.createElement(st.a.Item,{eventKey:"".concat(a),key:a,onSelect:function(){return e(t)}},t)}))},Bt=function(e,t){return F.map((function(a,n){var c=new Date;return t===c.getFullYear()&&n>c.getMonth()||2015===t&&n<8?null:r.a.createElement(st.a.Item,{eventKey:"".concat(n),key:n,onSelect:function(){return e(n)}},a)}))},_t=function(e){var t=e.shown,a=e.onClose,n=e.title,c=e.children,o=e.className,i=Object(_e.a)().t;return r.a.createElement(ot.a,{className:"ok-modal ".concat(o),show:t,onClose:a},r.a.createElement(ot.a.Header,null,r.a.createElement(ot.a.Title,null,n)),r.a.createElement(ot.a.Body,null,c),r.a.createElement(ot.a.Footer,null,r.a.createElement(lt.a,{variant:"primary",type:"submit",onClick:a},i("COMMON.OK"))))},Ut=function(e){var t=e.value,a=e.onClose,n=e.shown,c=e.title,o=Object(_e.a)().t;return r.a.createElement(_t,{shown:n,onClose:a,title:c},"".concat(o("QUERY.AMOUNT"),": ").concat(gt(t)))},Yt=function(e){var t=e.title,a=e.shown,n=e.onClose,c=e.items;return r.a.createElement(_t,{className:"item-list-modal",shown:a,title:t,onClose:n},r.a.createElement("div",{className:"item-list"},c.map((function(e){return"header"===e.type?r.a.createElement("div",{className:"cost-label",key:c.indexOf(e)},(t=new Date(e.date)).getFullYear()+". "+F[t.getMonth()]+" "+t.getDate()+"."):r.a.createElement("div",{className:"item",key:c.indexOf(e)},r.a.createElement("div",{className:"arrow-icon ".concat(e.category_type.toLowerCase())}),r.a.createElement("div",{className:"item-texts"},r.a.createElement("div",{className:"amount"},gt(e.amount)),r.a.createElement("div",{className:"description"},e.description)),r.a.createElement("div",{className:"category-icon ".concat(e.category.toLowerCase())}));var t}))))},Ht=(a(406),function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={activeCollectionToggle:te.Left,activeCategoryTypeToggle:te.Left,activeExclusionToggle:te.Left,selectedCategoryIndex:0,description:"",activeFullMatchToggle:te.Right,minAmount:"",maxAmount:"",minDate:null,maxDate:null,selectedYear:(new Date).getFullYear(),selectedMonthIndex:(new Date).getMonth(),sumModalShown:!1,listModalShown:!1},e.getParams=function(){var t=e.props.t,a=e.state,n=a.activeCollectionToggle,r=a.activeCategoryTypeToggle,c=a.selectedCategoryIndex,o=a.activeExclusionToggle,i=a.description,s=a.activeFullMatchToggle,l=a.minAmount,u=a.maxAmount,m=a.minDate,d=a.maxDate,h=a.selectedYear,p=a.selectedMonthIndex,f={collection:n===te.Left?g.Item:g.Balance,category_type:r===te.Left?E.Cost:E.Income};if(f.collection===g.Item){if(c&&(f.category=t("COMMON.ENGLISH_CATEGORIES.".concat(r===te.Left?P[c]:Y[c])),o===te.Right&&(f.exclude_category=!0)),i&&(f.description=i,f.description_like=s===te.Left),l&&(f.min_amount=+l),u&&(f.max_amount=+u),m){var v=m||new Date;v.setHours(2),f.min_date=v}if(d){var b=d||new Date;b.setHours(25),b.setMinutes(59),f.max_date=b}}else f.year=h,f.month=p;return f},e.switchActiveCollectionToggle=Object(x.a)(M.a.mark((function t(){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.state.activeCollectionToggle,e.setState({activeCollectionToggle:a===te.Left?te.Right:te.Left},(function(){return a===te.Right&&e.getSum()}));case 2:case"end":return t.stop()}}),t)}))),e.switchActiveCategoryTypeToggle=function(){e.setState({activeCategoryTypeToggle:e.state.activeCategoryTypeToggle===te.Left?te.Right:te.Left})},e.switchActiveExclusionToggle=function(){e.setState({activeExclusionToggle:e.state.activeExclusionToggle===te.Left?te.Right:te.Left})},e.getMenuItems=function(t){return t.map((function(t,a){return r.a.createElement(st.a.Item,{eventKey:"".concat(a),key:a,onSelect:function(){return e.onSelectCategory(a)}},t)}))},e.onSelectCategory=function(t){e.setState({selectedCategoryIndex:t})},e.onSelectYear=function(){var t=Object(x.a)(M.a.mark((function t(a){var n,r,c;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state.selectedMonthIndex,r=n,c=new Date,a===c.getFullYear()&&n>c.getMonth()&&(r=c.getMonth()),2015===a&&n<8&&(r=8),e.setState({selectedYear:a,selectedMonthIndex:r},(function(){return e.getSum()}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSelectMonth=function(){var t=Object(x.a)(M.a.mark((function t(a){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({selectedMonthIndex:a},(function(){return e.getSum}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onDescriptionChange=function(t){e.setState({description:t})},e.switchActiveFullMatchToggle=function(){e.setState({activeFullMatchToggle:e.state.activeFullMatchToggle===te.Left?te.Right:te.Left})},e.onMinAmountChange=function(t){e.setState({minAmount:t})},e.onMaxAmountChange=function(t){e.setState({maxAmount:t})},e.onMinDateChange=function(t){t&&vt()(t).isAfter(vt()(e.state.maxDate),"day")&&e.setState({maxDate:null}),t?e.setState({minDate:new Date(t)}):e.setState({minDate:null})},e.onMaxDateChange=function(t){t&&vt()(t).isBefore(vt()(e.state.minDate),"day")&&e.setState({minDate:null}),t?e.setState({maxDate:new Date(t)}):e.setState({maxDate:null})},e.isInvalidInput=function(){return e.state.minAmount.trim()&&e.state.minAmount.trim().toString().replace(/\d/g,"").length||e.state.maxAmount.trim()&&e.state.maxAmount.trim().toString().replace(/\d/g,"").length},e.getSum=Object(x.a)(M.a.mark((function t(){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.getQueryData,t.next=3,a(e.getParams());case 3:e.state.activeCollectionToggle===te.Left&&e.setState({sumModalShown:!0});case 4:case"end":return t.stop()}}),t)}))),e.getList=Object(x.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getQueryList(e.getParams());case 2:e.state.activeCollectionToggle===te.Left&&e.setState({listModalShown:!0});case 3:case"end":return t.stop()}}),t)}))),e.hideSumModal=function(){e.setState({sumModalShown:!1})},e.hideListModal=function(){e.setState({listModalShown:!1})},e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){Object(tt.registerLocale)("hu",nt.a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.queryData,c=t.queryList,o=this.state,i=o.activeCollectionToggle,s=o.activeCategoryTypeToggle,l=o.activeExclusionToggle,u=o.activeFullMatchToggle,m=o.selectedCategoryIndex,d=o.description,h=o.minAmount,p=o.maxAmount,f=o.minDate,v=o.maxDate,g=o.sumModalShown,E=o.listModalShown,b=o.selectedYear,O=o.selectedMonthIndex;return r.a.createElement("div",{className:"query"},r.a.createElement("div",{className:"collection"},r.a.createElement("div",{className:"cost-label"},a("QUERY.LABELS.QUERY_TYPE")),r.a.createElement(It,{active:i,onClick:this.switchActiveCollectionToggle,leftText:a("QUERY.ITEM"),rightText:a("QUERY.BALANCE")})),i===te.Left?r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"category-type"},r.a.createElement("div",{className:"cost-label"},a("QUERY.LABELS.CATEGORY_TYPE")),r.a.createElement(It,{active:s,onClick:this.switchActiveCategoryTypeToggle,leftText:a("QUERY.COST"),rightText:a("QUERY.INCOME")})),r.a.createElement("div",{className:"category"},r.a.createElement("div",{className:"cost-label"},a("QUERY.LABELS.CATEGORY")),r.a.createElement("div",{className:"category-toggle-container"},r.a.createElement("div",{className:"negate"},r.a.createElement(It,{active:l,onClick:this.switchActiveExclusionToggle,leftText:"",rightText:"Nem"})),r.a.createElement("div",{className:"category"},r.a.createElement(it.a,{title:s===te.Left?P[m]:Y[m]},this.getMenuItems(s===te.Left?[""].concat(Object(pt.a)(H)):[""].concat(Object(pt.a)(U))))))),r.a.createElement("div",{className:"description-container-panel"},r.a.createElement("div",{className:"description-container"},r.a.createElement("div",{className:"cost-label"},a("QUERY.LABELS.DESCRIPTION")),r.a.createElement("input",{className:"description",value:d,onChange:function(t){return e.onDescriptionChange(t.target.value)}})),r.a.createElement("div",{className:"full-match-container"},r.a.createElement("div",{className:"cost-label"},a("QUERY.LABELS.FULL_MATCH")),r.a.createElement(It,{active:u,onClick:this.switchActiveFullMatchToggle,leftText:a("QUERY.LABELS.NO"),rightText:a("QUERY.LABELS.YES")}))),r.a.createElement("div",{className:"amount-container"},r.a.createElement("div",{className:"minimal-amount-container"},r.a.createElement("div",{className:"cost-label"},a("QUERY.LABELS.MIN_AMOUNT")),r.a.createElement("input",{className:"minimal-amount amount",value:h,type:"number",onChange:function(t){return e.onMinAmountChange(t.target.value)}})),r.a.createElement("div",{className:"maximal-amount-container"},r.a.createElement("div",{className:"cost-label"},a("QUERY.LABELS.MAX_AMOUNT")),r.a.createElement("input",{className:"maximal-amount amount",value:p,type:"number",onChange:function(t){return e.onMaxAmountChange(t.target.value)}}))),r.a.createElement("div",{className:"date-container"},r.a.createElement("div",{className:"minimal-date-container"},r.a.createElement("div",{className:"cost-label"},a("QUERY.LABELS.FROM")),r.a.createElement("div",{className:"minimal-date date date-picker-container"},r.a.createElement(mt,{date:f||null,onChange:this.onMinDateChange}),this.state.minDate?r.a.createElement("div",{className:"close-icon",onClick:function(){return e.onMinDateChange(null)}}):null)),r.a.createElement("div",{className:"maximal-date-container"},r.a.createElement("div",{className:"cost-label"},a("QUERY.LABELS.TO")),r.a.createElement("div",{className:"maximal-date date date-picker-container"},r.a.createElement(mt,{date:v||null,onChange:this.onMaxDateChange}),v?r.a.createElement("div",{className:"close-icon",onClick:function(){return e.onMaxDateChange(null)}}):null))),r.a.createElement("div",{className:"button-container"},r.a.createElement(lt.a,{className:"query-sum",type:"submit",onClick:this.getSum,disabled:!!this.isInvalidInput()},a("QUERY.LABELS.SUM")),r.a.createElement(lt.a,{className:"query-list",type:"submit",onClick:this.getList,disabled:!!this.isInvalidInput()},a("QUERY.LABELS.LIST")))):r.a.createElement("div",{className:"balance"},r.a.createElement("div",{className:"year"},r.a.createElement("div",{className:"cost-label"},a("QUERY.YEAR")),r.a.createElement(it.a,{title:b,id:"year-dropdown"},Rt(this.onSelectYear))),r.a.createElement("div",{className:"month"},r.a.createElement("div",{className:"cost-label"},a("QUERY.MONTH")),r.a.createElement(it.a,{title:F[O],id:"month-dropdown"},Bt(this.onSelectMonth,b))),r.a.createElement("div",{className:"result-container"},r.a.createElement("div",{className:"cost-label"},a("QUERY.BALANCE")),r.a.createElement("div",{className:"result"},n?gt(n.value):""))),r.a.createElement(Ut,{title:a("QUERY.MODAL_TITLE"),shown:g,onClose:this.hideSumModal,value:(null===n||void 0===n?void 0:n.value)||0}),r.a.createElement(Yt,{title:a("QUERY.MODAL_TITLE"),shown:E,onClose:this.hideListModal,items:(null===c||void 0===c?void 0:c.items)||[]}))}}]),a}(n.Component)),Pt={getQueryData:function(e){return function(){var t=Object(x.a)(M.a.mark((function t(a){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oe.getQueryData(e);case 3:n=t.sent,a(Ce.setQueryData(n)),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getQueryList:function(e){return function(){var t=Object(x.a)(M.a.mark((function t(a){var n,r,c;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oe.getQueryList(e);case 3:n=t.sent,r=[],c=null,n.items.forEach((function(e){null!=c&&c===e.date||(r.push(Object(T.a)({type:ee.Header,date:e.date},Ne)),c=e.date),r.push(Object(T.a)({type:ee.Item},e))})),a(Ce.setQueryList(Object(T.a)(Object(T.a)({},n),{},{items:r}))),t.next=14;break;case 10:throw t.prev=10,t.t0=t.catch(0),console.log(t.t0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}},Ft=Fe(Object(i.b)((function(e){return{queryData:e.query.queryData,queryList:e.query.queryList}}),Pt))(Object(s.g)(Object(Ie.a)()(Ht))),Gt=(a(407),function(e){var t=e.index,a=e.className,n=e.isChecked,c=e.setChecked,o=e.text;return r.a.createElement("div",{className:a,onClick:function(e){e.preventDefault(),c(t)}},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox"}),r.a.createElement("div",{className:"tick ".concat(n?"checked":"")}),o))}),Qt=a(11),zt=a(429),qt=a(428),Vt=a(430),Wt=(a(408),["prevBalance","error","loading"]),Kt=function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).domNode=null,e.height=0,e.width=0,e.data=[],e.selection=void 0,e.node=void 0,e.resize=function(){e.props.setSize(),e.draw()},e.draw=function(){var t=Object(Qt.e)("svg");t._groups&&t._groups[0]&&t._groups[0][0]&&Object(Qt.e)("svg").remove(),e.selection=Object(Qt.e)(e.node),e.domNode=e.selection.node();var a=Object(Qt.e)(e.domNode),n={top:30,right:20,bottom:Ct(e.data.map((function(e){return e.label})),"normal 12px JmhTypewriter")+10,left:80},r=!1;e.width=isNaN(parseInt(a.style("width"),10))?a._groups&&a._groups[0]&&a._groups[0][0]?a._groups[0][0].offsetWidth-n.left-n.right:e.props.isLarge?.8*window.innerWidth-n.left-n.right:Math.min(366,window.innerWidth-n.left-n.right):parseInt(a.style("width"),10)-n.left-n.right;var c=(e.width-20)/e.data.length;n.bottom<c&&(r=!0,n.bottom=30),e.height=(e.props.isLarge?500:300)-n.top-n.bottom;var o=Object(zt.a)().rangeRound([0,e.width]).padding(.1),i=Object(qt.a)().rangeRound([e.height,0]),s=e.selection.append("svg").attr("class","bar-chart");s.attr("width",e.width+n.left+n.right).attr("height",e.height+n.top+n.bottom),o.domain(e.data.map((function(e){return e.label}))),i.domain([0,Math.max.apply(Math,Object(pt.a)(e.data.map((function(e){return Math.abs(e.value)}))))]);var l=s.append("g").attr("transform","translate("+n.left+","+n.top+")");l.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+e.height+")").call(Object(Vt.a)(o)).selectAll("text").style("text-anchor","end").style("fill",L).style("stroke","none").attr("class","label-text").attr("dx",r?0:"-.8em").attr("dy",r?".9em":"-.55em"),l.selectAll(".label-text").nodes().forEach((function(e){Object(Qt.e)(e).attr("transform",(function(){return r?"translate("+e.getComputedTextLength()/2+", 0)":"rotate(-90)"}))})),l.append("g").attr("class","axis axis--y").call(Object(Vt.b)(i).ticks(5)),l.selectAll(".bar").data(e.data).enter().append("rect").style("fill",(function(e){return e.value>=0?"Egyenleg"===e.label?R:L:I})).style("stroke","none").attr("class","bar").attr("width",c-20).attr("y",e.height-1).attr("transform",(function(e,t){return"translate("+[c*t+20,0]+")"})).transition().duration(700).ease(Qt.b).attr("y",(function(e){return i(Math.abs(e.value))})).attr("height",(function(t){return e.height-i(Math.abs(t.value))})),setTimeout((function(){l.selectAll(".amount-text").data(e.data).enter().append("text").text((function(e){return gt(e.value)})).style("fill",(function(e){return e.value>=0?"Egyenleg"===e.label?R:L:I})).attr("class","amount-text").attr("x",(function(e,t){return t*c+20})).attr("y",(function(e){return i(Math.abs(e.value))-5})).style("opacity",0).transition().duration(200).ease(Qt.b).style("opacity",1),l.selectAll(".amount-text").nodes().forEach((function(e){Object(Qt.e)(e).attr("transform",(function(){return"translate("+(c-20-e.getComputedTextLength())/2+", 0)"}))}))}),600)},e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=[],t=[],a=this.props,n=a.chart,r=a.t;for(var c in n)n.hasOwnProperty(c)&&n[c]&&!Wt.includes(c)&&(e.push(1===n[c].length?n[c][0].amount:n[c].reduce((function(e,t){return(e.amount||0===e.amount?e.amount:e)+t.amount}),0)),t.push(r("COMMON.CATEGORIES.".concat(c))));this.data=e.map((function(e,a){return{value:e,label:t[a]}})),window.addEventListener("resize",this.resize),setTimeout(this.draw,500)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"bar-chart-container ".concat(this.props.isLarge?"":"small"),ref:function(t){return e.node=t}})}}]),a}(n.Component),Jt=Object(i.b)((function(e){return{chart:e.chart}}),{}),Xt=Object(C.d)(Jt)(Object(Ie.a)()(Kt)),$t=function(e){var t=e.numberOfBars,a=e.shown,c=e.title,o=e.onClose,i=Object(n.useState)(window.innerWidth>=992&&t>3),s=Object(ct.a)(i,2),l=s[0],u=s[1],m=function(){u(window.innerWidth>=992&&t>3)};return Object(n.useEffect)((function(){return window.addEventListener("resize",m),function(){window.removeEventListener("resize",m)}}),[]),Object(n.useEffect)((function(){m()}),[t]),r.a.createElement(_t,{shown:a,title:c,className:Ye()("bar-chart-modal",{small:!l}),onClose:o},r.a.createElement(Xt,{isLarge:l,setSize:m}))},Zt=a(142);!function(e){e.PrevBalance="prevBalance",e.Income="income",e.Cost="cost",e.Balance="balance"}(Lt||(Lt={}));a(409);var ea,ta=function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).domNode=null,e.height=0,e.width=0,e.legends=[],e.labels=[],e.selection=void 0,e.tooltipWidth=150,e.tooltipHeight=40,e.margin={top:60,right:20,bottom:30,left:80},e.node=void 0,e.resize=function(){e.props.setSize(),e.draw()},e.draw=function(){var t=e.props,a=t.chart,n=t.isSum,r=t.t,c=Object(Qt.e)("svg");c._groups&&c._groups[0]&&c._groups[0][0]&&Object(Qt.e)("svg").remove(),e.selection=Object(Qt.e)(e.node),e.domNode=e.selection.node();var o=!1;e.width=parseInt(window.getComputedStyle(document.getElementsByClassName("modal-dialog")[0]).width,10)-e.margin.left-e.margin.right,e.margin.bottom=Ct(e.labels,"normal 12px JmhTypewriter")+10,e.margin.bottom<e.width/e.labels.length&&(o=!0,e.margin.bottom=30),e.height=(e.props.isLarge?500:300)-e.margin.top-e.margin.bottom;var i=Object(zt.a)().domain(e.labels).rangeRound([0,e.width]),s=0,l=0,u=function(e){var t;a.hasOwnProperty(e)&&e!==Lt.PrevBalance&&a[e]&&(s=Math.min.apply(Math,[s].concat(Object(pt.a)(null===(t=a[e])||void 0===t?void 0:t.map((function(t){return n&&"BALANCE"===e?t.sumAmount||0:t.amount}))))),l=Math.max.apply(Math,[l].concat(Object(pt.a)(a[e].map((function(t){return n&&"BALANCE"===e?t.sumAmount||0:t.amount}))))))};for(var m in a)u(m);var d=Object(qt.a)().domain([s,l]).rangeRound([e.height,0]),h=function(t){return(t+.5)*e.width/e.labels.length},p=function(t){return e.height-e.height*(t-s)/(l-s)},f=e.selection.append("svg").attr("class","line-chart");f.attr("width",e.width+e.margin.left+e.margin.right).attr("height",e.height+e.margin.top+e.margin.bottom).append("g").attr("class","outer-g");var v=0;for(var g in a)a.hasOwnProperty(g)&&"prevBalance"!==g&&a[g]&&(Object(Qt.e)(".outer-g").append("circle").attr("class","legend-circle "+g.toLowerCase()).attr("stroke",e.getColor(g)).attr("stroke-width",3).attr("fill",B).attr("r",3).attr("transform","translate("+v+", 30)"),v+=10,Object(Qt.e)(".outer-g").append("text").text(r("COMMON.CATEGORIES.".concat(g))+(n&&"BALANCE"===g?" (\u03a3)":"")).attr("transform","translate("+v+", 34)").attr("class","legend-text").style("fill",e.getColor(g)),v+=yt(r("COMMON.CATEGORIES.".concat(g)),"normal 12px VarelaRound")+(n&&"BALANCE"===g?60:40));Object(Qt.e)(".outer-g").attr("transform","translate("+(e.margin.left+(e.width-e.margin.right-v)/2)+", 0)");var E=f.append("g").attr("class","chart-g").attr("transform","translate("+e.margin.left+","+e.margin.top+")");E.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+e.height+")").call(Object(Vt.a)(i)).selectAll("text").style("text-anchor","end").style("fill",L).style("stroke","none").attr("class","label-text").attr("dx",o?0:"-.8em").attr("dy",o?".9em":"-.55em"),Object(Qt.f)(".label-text").nodes().forEach((function(e){return Object(Qt.e)(e).attr("transform",o?"translate("+e.getComputedTextLength()/2+", 0)":"rotate(-90)")})),E.append("g").attr("class","axis axis--y").call(Object(Vt.b)(d).ticks(5));var b=Object(Qt.d)().x((function(e,t){return h(t)})).y((function(e){return n&&e.sumAmount?p(e.sumAmount):p(e.amount)})).curve(Qt.a),O=function(t){a.hasOwnProperty(t)&&a[t]&&"prevBalance"!==t&&E.append("path").attr("class","line").attr("d",(function(){return b(a[t])})).attr("stroke",e.getColor(t)).attr("stroke-width",3).attr("fill","none").call(e.transition)};for(var y in a)O(y);var C=function(t){a.hasOwnProperty(t)&&a[t]&&setTimeout((function(){var a=Object(Zt.a)(e),r=E.selectAll(".dot."+t.toLowerCase()).data(e.props.chart[t]).enter().append("circle");r.on("mouseover",(function(e,t){var n=r.nodes(),c=n.indexOf(this);a.onMouseOver(t,c,n)})).on("mouseout",(function(e,t){var n=r.nodes(),c=n.indexOf(this);a.onMouseOut(t,c,n)})).attr("class","dot "+t.toLowerCase()).attr("cx",(function(e,t){return h(t)})).attr("cy",(function(e){return p("BALANCE"===t&&n?e.sumAmount||0:e.amount)})).attr("stroke",e.getColor(t)).attr("stroke-width",3).attr("fill",B).attr("r",3).style("opacity",0).transition().duration(200).ease(Qt.b).style("opacity",1)}),900)};for(var w in a)C(w);setTimeout((function(){Object(Qt.e)(".chart-g").append("rect").attr("width",e.tooltipWidth).attr("height",e.tooltipHeight).attr("class","cost-tooltip").attr("rx",20).attr("ry",20).style("fill",B).style("opacity",.85).style("stroke-width",3).style("display","none"),Object(Qt.e)(".chart-g").append("text").attr("class","tooltip-text").style("display","none")}),1500)},e.onMouseOut=function(e,t,a){Object(Qt.e)(a[t]).attr("r",3),Object(Qt.e)(".cost-tooltip").style("display","none"),Object(Qt.e)(".tooltip-text").style("display","none")},e.transition=function(t){t.transition().duration(1e3).attrTween("stroke-dasharray",e.tweenDash)},e.getColor=function(t){return"BALANCE"===t?L:"COST"===t?I:"INCOME"===t?R:Q[e.legends.indexOf(e.props.t("COMMON.CATEGORIES.".concat(t)))%Q.length]},e}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.t,n=t.chart;for(var r in n)n.hasOwnProperty(r)&&"prevBalance"!==r&&n[r]&&(this.legends.push(a("COMMON.CATEGORIES.".concat(r))),this.labels.length||n[r].forEach((function(t){var a,n;e.labels.push((a=t.year,n=t.month,"".concat(a,". ").concat(F[n])))})));window.addEventListener("resize",this.resize),this.draw()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"onMouseOver",value:function(e,t,a){var n=Object(Qt.e)(a[t]),r=n.classed("balance")&&this.props.isSum?gt(e.sumAmount||0):gt(e.amount);n.attr("r",5);var c=Math.min(this.width-this.tooltipWidth+this.margin.right-3,n.attr("cx")-this.tooltipWidth/2);Object(Qt.e)(".cost-tooltip").attr("transform","translate("+c+", "+(n.attr("cy")-this.tooltipHeight-5)+")").style("stroke",n.attr("stroke")).style("display","block"),Object(Qt.e)(".tooltip-text").text(r).attr("transform","translate("+(c+(this.tooltipWidth-yt(r,"normal 16px VarelaRound"))/2)+", "+(n.attr("cy")-this.tooltipHeight/2+2)+")").attr("fill",n.attr("stroke")).style("display","block")}},{key:"tweenDash",value:function(){var e=this.getTotalLength(),t=Object(Qt.c)("0,"+e,e+","+e);return function(e){return t(e)}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"line-chart-container",ref:function(t){return e.node=t}})}}]),a}(n.Component),aa=Object(i.b)((function(e){return{chart:e.chart}}),{}),na=Object(C.d)(aa)(Object(Ie.a)()(ta)),ra=function(e){var t=e.isSum,a=e.shown,c=e.onClose,o=e.title,i=Object(n.useState)(window.innerWidth>=992),s=Object(ct.a)(i,2),l=s[0],u=s[1],m=function(){u(window.innerWidth>=992)};return Object(n.useEffect)((function(){return window.addEventListener("resize",m),function(){window.removeEventListener("resize",m)}}),[]),r.a.createElement(_t,{shown:a,title:o,className:Ye()("line-chart-modal",{small:!l}),onClose:c},r.a.createElement(na,{isLarge:l,setSize:m,isSum:t}))};a(410);!function(e){e.Month="month",e.Year="year",e.Full="full"}(ea||(ea={}));var ca=function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={intervalType:ea.Month,selectedYear:(new Date).getFullYear(),selectedMonthIndex:(new Date).getMonth(),activeChartTypeToggle:te.Left,categories:new Array(G.length).fill(!1),sumChecked:!1,isButtonDisabled:!0,isBarChartShown:!1,isLineChartShown:!1},e.getParams=function(){var t={},a=e.state,n=a.selectedMonthIndex,r=a.selectedYear;switch(e.state.intervalType){case ea.Month:t.min_month=n,t.max_month=n,t.min_year=r,t.max_year=r;break;case ea.Year:t.min_year=r,t.max_year=r}return t.category_types=e.getCategoryTypesParam(),t.categories=e.getCategoriesParam(),t},e.getCategoriesParam=function(){var t=e.props.t,a=e.state.categories;return G.slice(3).reduce((function(e,n){return(e===G[3]?a[3]?t("COMMON.ENGLISH_CATEGORIES.".concat(e))+",":"":e)+(a[G.indexOf(n)]?t("COMMON.ENGLISH_CATEGORIES.".concat(n))+",":"")})).slice(0,-1)},e.getCategoryTypesParam=function(){for(var t=e.props.t,a="",n=0;n<3;n++)e.state.categories[n]&&(a+=t("COMMON.ENGLISH_CATEGORIES.".concat(G[n]))+",");return a.slice(0,-1)},e.isButtonDisabled=function(){var t=e.getNumberOfCheckedCategories();return 0===t||e.state.activeChartTypeToggle===te.Right&&t>8},e.getNumberOfCheckedCategories=function(){return e.state.categories.reduce((function(e,t){return+e+ +t}))},e.setChecked=function(t){if(t||0===t){var a=e.state.categories;a[t]=!a[t],e.setState({categories:a,isButtonDisabled:e.isButtonDisabled()})}},e.setSumChecked=function(){e.setState({sumChecked:!e.state.sumChecked})},e.getCheckboxes=function(){var t=e.state,a=t.categories,n=t.activeChartTypeToggle,c=t.sumChecked;return G.map((function(t){return r.a.createElement("div",{className:"checkbox-parent col-xl-2 col-lg-3 col-md-4 col-sm-4 col-xs-6",key:G.indexOf(t)},r.a.createElement(Gt,{index:G.indexOf(t),className:"checkbox",isChecked:a[G.indexOf(t)],setChecked:e.setChecked,text:t}),"Egyenleg"===t&&n===te.Right?r.a.createElement("div",{className:"sumbox-container"},r.a.createElement("span",null,"(\u03a3"),r.a.createElement(Gt,{index:-1,text:"",isChecked:c,className:"checkbox sumbox",setChecked:e.setSumChecked}),r.a.createElement("span",null,")")):null)}))},e.onRadioButtonClick=function(t){e.setState({intervalType:t})},e.onSelectYear=function(){var t=Object(x.a)(M.a.mark((function t(a){var n,r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.selectedMonthIndex,r=new Date,a===r.getFullYear()&&e.state.selectedMonthIndex>r.getMonth()&&(n=r.getMonth()),2015===a&&e.state.selectedMonthIndex<8&&(n=8),t.next=6,e.setState({selectedYear:a,selectedMonthIndex:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSelectMonth=function(){var t=Object(x.a)(M.a.mark((function t(a){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({selectedMonthIndex:a});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.switchChartType=function(){e.setState({activeChartTypeToggle:e.state.activeChartTypeToggle===te.Left?te.Right:te.Left})},e.getChartData=Object(x.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getChartData(e.getParams());case 2:e.state.intervalType!==ea.Month&&e.state.activeChartTypeToggle===te.Right?e.setState({isLineChartShown:!0}):e.setState({isBarChartShown:!0});case 3:case"end":return t.stop()}}),t)}))),e.hideBarChartModal=function(){e.setState({isBarChartShown:!1})},e.hideLineChartModal=function(){e.setState({isLineChartShown:!1})},e}return Object(S.a)(a,[{key:"render",value:function(){var e=this,t=this.props.t,a=this.state,n=a.intervalType,c=a.selectedYear,o=a.selectedMonthIndex,i=a.activeChartTypeToggle,s=a.sumChecked,l=a.isBarChartShown,u=a.isButtonDisabled,m=a.isLineChartShown;return r.a.createElement("div",{className:"chart-container"},r.a.createElement("div",{className:"cost-label"},t("CHART.INTERVAL_TYPE")),r.a.createElement("div",{className:"button-group"},r.a.createElement(lt.a,{className:Ye()("button-group-item month col-xs-4",{active:n===ea.Month}),onClick:function(){return e.onRadioButtonClick(ea.Month)}},t("CHART.MONTHLY")),r.a.createElement(lt.a,{className:Ye()("button-group-item year col-xs-4",{active:n===ea.Year}),onClick:function(){return e.onRadioButtonClick(ea.Year)}},t("CHART.YEARLY")),r.a.createElement(lt.a,{className:Ye()("button-group-item full col-xs-4",{active:n===ea.Full}),onClick:function(){return e.onRadioButtonClick(ea.Full)}},t("CHART.FULL"))),r.a.createElement("div",{className:Ye()("interval-container",{row:n===ea.Month})},n!==ea.Full&&r.a.createElement("div",{className:Ye()("dropdown-container year",{"col-xs-12 col-sm-6 w_50":n===ea.Month})},r.a.createElement("div",{className:"year"},r.a.createElement("div",{className:"cost-label"},t("CHART.YEAR")),r.a.createElement(it.a,{title:c,id:"year-dropdown"},Rt(this.onSelectYear)))),n===ea.Month&&r.a.createElement("div",{className:"dropdown-container month col-xs-12 col-sm-6"},r.a.createElement("div",{className:"month"},r.a.createElement("div",{className:"cost-label"},t("CHART.MONTH")),r.a.createElement(it.a,{title:F[o],id:"month-dropdown"},Bt(this.onSelectMonth,c)))),n!==ea.Month&&r.a.createElement("div",{className:"dropdown-container type ".concat("year"===n?"col-xs-6":"col-xs-12 full-sized")},r.a.createElement("div",{className:"chart-type"},r.a.createElement("div",{className:"cost-label"},t("CHART.CHART_TYPE")),r.a.createElement(It,{active:i,onClick:this.switchChartType,leftText:t("CHART.AMOUNT"),rightText:t("CHART.TREND")}))),r.a.createElement("div",{style:{clear:"both"}})),r.a.createElement("div",{className:"category-container"},r.a.createElement("div",{className:"cost-label"},t("CHART.CATEGORIES")),r.a.createElement("div",{className:"checkbox-container row no-gutters"},this.getCheckboxes()),r.a.createElement("div",{style:{clear:"both"}})),r.a.createElement("div",{className:"button-container"},r.a.createElement(lt.a,{className:"btn",onClick:this.getChartData,disabled:u},t("COMMON.OK"))),r.a.createElement($t,{shown:l,title:t("CHART.BAR_CHART_SUM_BY_CATEGORIES"),onClose:this.hideBarChartModal,numberOfBars:this.getNumberOfCheckedCategories()}),r.a.createElement(ra,{shown:m,title:t("CHART.LINE_CHART_SUM_BY_CATEGORIES"),onClose:this.hideLineChartModal,isSum:s}))}}]),a}(n.Component),oa={getChartData:function(e){return function(){var t=Object(x.a)(M.a.mark((function t(a){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,me.getChartData(e);case 3:n=t.sent,a(pe.setChartData(n)),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},ia=Object(i.b)(null,oa),sa=Object(C.d)(ia)(Object(Ie.a)()(ca)),la=(a(411),{hideNotification:function(){return function(){var e=Object(x.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(W.setNotification(null));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),ua=Fe(Object(i.b)((function(e){return{notification:e.common.notification}}),la))((function(e){Object(n.useEffect)((function(){setTimeout(a,2e3)}),[]);var t=e.notification,a=e.hideNotification;return r.a.createElement("div",{className:Ye()("bubble",{error:(null===t||void 0===t?void 0:t.type)===y.Error}),onClick:a},r.a.createElement("div",{className:Ye()("inner",{error:(null===t||void 0===t?void 0:t.type)===y.Error})},null===t||void 0===t?void 0:t.text))})),ma=(a(412),function(e){Object(De.a)(a,e);var t=Object(Le.a)(a);function a(){return Object(A.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props,t=e.token,a=e.notification;return r.a.createElement("div",{className:"cost"},r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve,{authenticated:!!t}),t?r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/cost",component:Tt}),r.a.createElement(s.b,{exact:!0,path:"/stats",component:Dt}),r.a.createElement(s.b,{exact:!0,path:"/query",component:Ft}),r.a.createElement(s.b,{exact:!0,path:"/chart",component:sa}),r.a.createElement(s.a,{to:"/cost"})):r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/login",component:et})),a?r.a.createElement(ua,null):null))}}]),a}(n.Component)),da=Fe(Object(i.b)((function(e){return{token:e.auth.token,notification:e.common.notification}}),{}))(ma),ha=(a(413),a(414),Object(v.a)());o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:je},r.a.createElement(n.Suspense,{fallback:" "},r.a.createElement(f.a,{i18n:p},r.a.createElement(s.c,{history:ha},r.a.createElement(da,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[305,1,2]]]);
//# sourceMappingURL=main.83e7610f.chunk.js.map